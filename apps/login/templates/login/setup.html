<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=MedievalSharp" rel="stylesheet">
    {% load static %}
    <title>"Game Name" Team Selection</title>

    <!-- Bootstrap core CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src= 'http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
    <script src="https://ajax.googleapis.com/aj..."></script>

    <!-- Custom styles for this template -->
    <link href="jumbotron.css" rel="stylesheet">

    <script>

        $(document).ready(function(){
            $(':radio').click(function(){
                console.log('form is clicked')
                
                $.ajax({
                    url: $(this).attr('action'), /* Where should this go? */
                    method: 'post', /* Which HTTP verb? */
                    data: $(this).serialize(), /* Any data to send along? */
                    success: function(serverResponse) { /* What code should we run when the server responds? */
                    }
                })
            });

        });
    </script>

    <style>
        *{
            /* outline: 1px dotted red; */
            font-family: MedievalSharp;
        }
        .jumbotron{
            display: inline-block;
            /* min-width: 25%; */
            padding: 3% 1%;
            overflow:inherit;
            background-color: rgba(88,88,88, .5);
            color: white;
        }
        .teamDisplay{
            display: inline-block;

        }
        .main{
            display: inline-block;
            /* width: 75%; */
            vertical-align: top;
            background-color: rgba(88,88,88, .5);
            padding: 1% 0px;
            margin: 0px 5%;
            border-radius: 5px;
            margin-bottom: 19%;
            
        }
        .col-md-4{
            display: block;
            max-width: 100%;
        }
        .display-3{
            width: 100%;
            text-align: center;
        }
        body{
            padding: 2%;
            background-image: url("{% static 'login/img/forest1.jpg' %}");
            background-repeat:no-repeat;
            background-size:cover;
            margin: 0px 0px;
            width: 100%;
            height: auto;
            outline: 1px solid red;
            overflow: hidden;
        }
        .character_select{
            color: whitesmoke;
            text-shadow: -1px -1px  black,
            -1px 1px  black,
            1px -1px  black,
            1px 1px  black;

        }

        .col-sm-10 {
            -ms-flex: 0 0 83.333333%;
            flex: 0 0 83.333333%;
            max-width: none;
            padding: 0px 0px;
        }


        .teamDisplay input{
            background-color: inherit;
            border: none;

        }

        .startButton{
            background-color: rgb(19,46,35)
        }

        .startButton{
            color: white;
            background-color: rgb(19,46,35);
            width: 50%;
            text-align: center;
            border-color: black;
            border-radius: 2px;
        }

        .form-check-input{
            position:fixed;
            opacity:0
        }

        label img{
            display: inline-block;
            margin-right: 1%;
            width: 7%
        }

        label .spacer{
            display: inline-block;
            vertical-align: top;
            width: 90%;
        }

        .updateButton{
            width: 10%;
            margin-left: 10%;
            background-color: rgb(19,46,35);
            color: white;
            text-align: center;
            border-color: black;
            border-radius: 2px;
        }
        input{
            color: white;
        }
        .bordered{
            border: 2px solid rgb(2, 2, 107);
        }
        .selected{
            border: 2px solid rgb(121, 16, 21);
        }
    </style>

  </head>

  <body>
    <main role="main">   

        <form class='teamDisplay' action="/game/prep/{{name}}" method="post">
            {% csrf_token %}

            <div class="jumbotron">
                <div class="container">
                    <h1 class="display-3">Team </h1>


                    <div id='characterList'>
                        {% for player, value in players.items %}
                            <ul>
                                <!-- {{player}} -->

                                <li style='font-weight: bold'>{{player}}</li>
                                <ul><li><input type='text'  name="{{player}}" value = {{value.character}} readonly></li></ul>
                                <!-- <input type=hidden name={{player}}info value={{value}}> -->
                            </ul>

                        {% endfor %}

                    </div>

                    <!-- <p><a class="btn btn-primary btn-lg" href="http://127.0.0.1:8000/game" role="button">Start Game &raquo;</a></p> -->
                    <button class='button startButton' type=submit name = 'start' value = "Start Game">Start Game</button>

                </div>
            </div>

        </form>

        <div class="container main">
            <h1 style="text-align: center; color: white">Character Options for {{name}}</h1> 
            <fieldset class="form-group character_select">
                <form id="updateForm" action="/updateGroup/{{name}}" method="POST">
                    {% csrf_token %}
                    <div class="col-sm-10">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="characterChoice" id="gridRadios1" value="Knight" checked>
                            <label class="form-check-label knightRadio" for="gridRadios1">
                                <img class="knightPic" src="/static/game/img/knight-guard-f.png">
                                <div class="spacer">
                                    <h2>Knight</h2>
                                    <p>A heavily defended and physically powerful fighter, who is slow moving but deals and takes attacks well. </p>
                                </div>
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="characterChoice" id="gridRadios2" value="Mage">
                            <label class="form-check-label mageRadio" for="gridRadios2">
                                <img class="magePic" src="/static/game/img/mage-guard-f.png">
                                <div class="spacer">
                                    <h2>Mage</h2>
                                    <p>A powerful fighter who can attack from range using magical spells, but suceptible to attacks when fighinting at close range.</p>
                                </div>
                            </label>
                        </div>
                        <div class="form-check disabled">
                            <input class="form-check-input" type="radio" name="characterChoice" id="gridRadios3" value="Rogue">
                            <label class="form-check-label rogueRadio" for="gridRadios3">
                                <img class="roguePic" src="/static/game/img/rogue-guard-f.png">
                                <div class="spacer">
                                    <h2>Rogue</h2>
                                    <p>A powerful fighter who excels at map mobility and one on one combat, but can be overwhelmed by fighting multiple foes at once.</p>
                                </div>
                            </label>
                        </div>
                        <div class="form-check disabled">
                            <input class="form-check-input" type="radio" name="characterChoice" id="gridRadios4" value="Bard">
                            <label class="form-check-label bardRadio" for="gridRadios4">
                                    <img class="bardPic" src="/static/game/img/bard-guard-f.png">
                                    <div class="spacer">
                                        <h2>Bard</h2>
                                        <p>A weaker fighter who excels defensively and can charm enemies into submission by playing songs from a magical harp.</p>
                                    </div>
                            </label>
                        </div>
                    </div>
                    <input class ='button updateButton' type=submit name=update value="Update Team">

                </form>
            </fieldset>
        </div> <!-- /container -->
        
    </main>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="../../assets/js/vendor/popper.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function(){
            $('label.form-check-label.knightRadio').hover(function(){
                console.log('hovered')
                $('img.knightPic').addClass('bordered');
                },function(){
                    $('img.knightPic').removeClass('bordered');
                }
            );

            $('label.form-check-label.mageRadio').hover(function(){
                console.log('hovered')
                $('img.magePic').addClass('bordered');
                },function(){
                    $('img.magePic').removeClass('bordered');
                }
            );

            $('label.form-check-label.rogueRadio').hover(function(){
                console.log('hovered')
                $('img.roguePic').addClass('bordered');
                },function(){
                    $('img.roguePic').removeClass('bordered');
                }
            );

            $('label.form-check-label.bardRadio').hover(function(){
                console.log('hovered')
                $('img.bardPic').addClass('bordered');
                },function(){
                    $('img.bardPic').removeClass('bordered');
                }
            );


            $('label.form-check-label.knightRadio').click(function(){
                console.log('clicked')
                $('img').removeClass('selected')
                $('img.knightPic').addClass('selected')
            });

            $('label.form-check-label.mageRadio').click(function(){
                console.log('clicked')
                $('img').removeClass('selected')
                $('img.magePic').addClass('selected')
            });

            $('label.form-check-label.rogueRadio').click(function(){
                console.log('clicked')
                $('img').removeClass('selected')
                $('img.roguePic').addClass('selected')
            });

            $('label.form-check-label.bardRadio').click(function(){
                console.log('clicked')
                $('img').removeClass('selected')
                $('img.bardPic').addClass('selected')
            });
        });
    
    </script>

  </body>
</html>